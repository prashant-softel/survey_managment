<!--
  Generated template for the Surveylist page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="navbar">
    <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>
    <ion-title>All Survey</ion-title>
  </ion-navbar>

  <ion-toolbar no-border>
    <ion-segment [(ngModel)]="tab"  color="header">
      <ion-segment-button value="active">
        <!--<ion-icon name='home'></ion-icon>-->
        <strong>Active</strong>
      </ion-segment-button>
      <ion-segment-button value="complete">
        <!--<ion-icon name='people'></ion-icon>-->
        <strong>Completed</strong>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content padding>
	<div [ngSwitch]="tab">
    	<ion-list no-lines *ngSwitchCase="'active'">
    		<ion-item *ngFor="let p of activeList" text-wrap>
			    <strong>{{p.title}}</strong>
			    <ion-row>
			      	<ion-col text-left>
			        	<ion-icon name="calendar" color="primary"></ion-icon> {{p.startDate}}
			      	</ion-col>
			      	<ion-col text-right>
			        	<ion-icon name="calendar" color="danger"></ion-icon> {{p.endDate}}
			      	</ion-col>
			    </ion-row>
			    
			    <ion-row>
			    	<ion-col col-4 text-center><button (click)="takeSurvey(p);"><ion-icon name="paper"></ion-icon></button></ion-col>
			    	<ion-col col-4 text-center><button (click)="viewResult(p);"><ion-icon name="send"></ion-icon></button></ion-col>
			    	<ion-col col-4 text-center><button (click)="userMgmt();"><ion-icon name="people"></ion-icon></button></ion-col>
			    </ion-row>
			    <ion-row>
			      	<ion-col>
			      		<strong>Total Feedback : </strong>{{p.feedbackCount}}
			      	</ion-col>
			    </ion-row>
			 </ion-item>
	    </ion-list>
	    <ion-list no-lines *ngSwitchCase="'complete'">
	    	<ion-item *ngFor="let p of completedList" text-wrap>
			    <strong>{{p.title}}</strong>
			    <ion-row>
			      	<ion-col text-left>
			        	<ion-icon name="calendar" color="primary"></ion-icon> {{p.startDate}}
			      	</ion-col>
			      	<ion-col text-right>
			        	<ion-icon name="calendar" color="danger"></ion-icon> {{p.endDate}}
			      	</ion-col>
			     </ion-row>

			    <ion-row>
			    	
			    	<ion-col col-6 text-center><button (click)="viewResult(p);"><ion-icon name="send"></ion-icon></button></ion-col>
			    	<ion-col col-6 text-center><button (click)="userMgmt();"><ion-icon name="people"></ion-icon></button></ion-col>
			    </ion-row>
			     <ion-row>
			      	<ion-col>
			      		<strong>Total Feedback : </strong>{{p.feedbackCount}}
			      	</ion-col>
			    </ion-row>
			 </ion-item>
	    </ion-list>
	</div>
</ion-content>
