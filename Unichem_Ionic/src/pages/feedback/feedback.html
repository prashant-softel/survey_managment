<!--
  Generated template for the Feedback page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="theme">
    <ion-title>
      Feedback
    </ion-title>
    <!--<ion-buttons end>
      <img src="images/icon.png" style="width: 20px;height: 20px;" />
    </ion-buttons>-->
  </ion-navbar>

</ion-header>


<ion-content padding>
	<h2 style = "font-size :1.3em"><strong>Welcome {{details.name}} </strong></h2> 
  <p><strong>AIMS Code : </strong>{{details.regNo}}</p>
  <p><strong>Location : </strong>{{details.location}}</p>
  <p><strong>Speciality : </strong>{{details.specializationID}}</p>

  <ion-item [hidden]="showStar" text-center >
  <h2 text-wrap style = "background-color : #B0BEC5"><strong>Ratings are already filled by {{details.name}} for this survey</strong></h2>
  <br/><br/><br/><br/><br/><br/>
  <button ion-button color="button" block (click)="gotoSurvey()">New Feedback</button>
  <br/><br/>
  <button ion-button color="button" block (click)="gotoSurveylist()" [hidden]="hideMR">Go To All Survey</button> 
  <br/><br/>
  </ion-item>

  <ion-item [hidden]="!showStar">
  <h2 text-wrap>
	Please give us your valuable feedback ...</h2>
	<ion-card>
    	
      <ion-card-content *ngFor="let p of particulars">
    		<h2 text-wrap><strong>{{p.question}}</strong></h2>
        <rating text-right [(ngModel)]="p.rating" readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" starIconColor="gold" nullable="false" (ngModelChange)="onModelChange($event)"></rating>
        <hr>
    	</ion-card-content>
      
      <ion-card-content>
        <label class="item item-input item-stacked-label">
          <span class="input-label"><strong>Feedback (Optional)</strong></span><br><br>
          <textarea placeholder="Additional information/suggestions that you might want to share ..." [(ngModel)]="surveyDetails['remarks']" rows="4" style="width:100%;"></textarea>
        </label>
      </ion-card-content>
      
      <ion-card-content>
    	   <button ion-button color="button" block (click)="submitFeedback()">Submit</button>
         <ion-item text-center>
            <p style="color:#FF0000;">{{message}}</p>
          </ion-item>
      </ion-card-content>

  	</ion-card>
    </ion-item>
</ion-content>

